<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body>
  <script>
    // 创建节点
    var Node = function (data) {
      this.data = data;
      this.next = null;
    }
    // 定义链表
    class LinkList {
      constructor() {
        this.length = 0; // 链表的长度
        this.head = null; // 链表的头节点
        this.tail = null; // 链表的尾节点
      }
      // 添加一个新节点
      append(data) {
        const node = new Node(data)
        if (!this.head) {
          this.head = node;
          thi.tail = this.head
        } else {
          this.tail.next = node;
          this.tail = node;
        }
        this.length += 1
      }
      // 获得指定位置的节点
      getNode(index) {
        if (index < 0 || index > this.length)
          return null
        let nowNode = this.head;
        let nodeIndex = index;
        while (nodeIndex > 0) {
          nowNode = nowNode.next;
          nodeIndex--;
        }
        return nowNode

      }
      // 删除节点
      remove(index) {
        if (index < 0 || index >= this.length)
          return null
        let delNode = null
        if (index == 0) {
          delNode = this.head;
          this.head = this.head.next;
          // 如果head为null,说明只有一个节点
          if (!this.head)
            this.tail = null
        } else {
          /*
    要从列表中移除当前元素，要做的是将 preNode.next 和 preNode.next.next 链接起来，
    这样，当前元素就会被丢弃在计算机内存中，等待被垃圾回收器清除。
    */
          const presentNode = this.getNode(index - 1)
          delNode = preNode.next
          presentNode.next = presentNode.next.next
          // 如果删除的尾节点
          if (!delNode.next) this.tail = preNode
        }
        this.length -= 1
        return delNode.data
      }
      // 获取指定位置的节点的值
      getData(index) {
        const nowNode = this.getNode(index)
        if (nowNode) return nowNode.data;
        return null
      }
      // 返回指定元素的第一次出现位置，如果没有，返回-1
      indexOf(data) {
        let index = -1
        let nowNode = this.head
        while (nowNode) {
          index += 1
          if (nowNode.data == data)
            return index
          nowNode = nowNode.next
        }
        return -1
      }
      // 返回链表大小
      length() {
        return this.length;
      }
      // 删除头节点
      removeHead() {
        return this.remove(0);
      }
      // 删除尾节点
      removeTail() {
        return this.remove(this.length - 1);
      }
      // 返回链表头节点的 data
      headData() {
        return this.getData(0);
      }
      // 返回链表尾节点的 data
      tailData() {
        return this.getData(this.length - 1);
      }
      // 判断链表是否为空
      isEmpty() {
        return this.length === 0;
      }
      // 清空链表
      clear() {
        this.head = null;
        this.tail = null;
        this.length = 0;
      }

    }
  </script>
</body>

</html>